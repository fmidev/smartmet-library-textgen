/*!
\page page_tarinat Tarinat

<ol>
<li>\ref sec_tarina</li>
<li>\ref sec_storyfactory</li>
<li>\ref sec_specialstory</li>
<li>\ref sec_temperaturestory</li>
 <ol>
 <li>\ref sec_story_temperature_mean</li>
 <li>\ref sec_story_temperature_meanmax</li>
 <li>\ref sec_story_temperature_meanmin</li>
 </ol>
<li>\ref sec_precipitationstory</li>
 <ol>
 <li>\ref sec_story_precipitation_total</li>
 <li>\ref sec_story_precipitation_range</li>
 <li>\ref sec_story_precipitation_classification</li>
 </ol>
</ol>

\section sec_tarina Mikä on tarina

Tarina on yksittäinen kappale, joka sisältää yksittäiseen sääparametriin
liittyvän kuvauksen. Kappale voi olla tyhjä jos parametrista ei ole
mitään kerrottavaa, tai se voi koostua yhdestä tai useammasta virkkeestä.

\section sec_storyfactory StoryFactory namespace

TextGen::StoryFactory namespace sisältää create funktion,
jolla voidaan luoda erikseen nimettyjä tarinoita.

\section sec_specialstory Erikoistarinat

Kaksi normaalista poikkeavaa tarinaa ovat "none", joka palauttaa tyhjän
Paragraph objektin, sekä "break", joka palauttaa Paragraph objektin
joka sisältää vain yhden Delimiter objektin. Delimiter objektin
sisältö on newline-merkki.

\section sec_temperaturestory TemperatureStory luokka

TextGen::TemperatureStory luokka hallitsee lämpötilaan liittyvät tarinat.

\subsection sec_story_temperature_mean "temperature_mean"

\c temperature_mean tarina on muotoa

  -# "Keskilämpötila N astetta."

Ruotsiksi

  -# "Medeltemperaturen N grader."

Englanniksi

  -# "Mean temperature N degrees."

Käytetyt fraasit ovat

  - "keskilämpötila"
  - "astetta"

\subsection sec_story_temperature_meanmax "temperature_meanmax"

\c temperature_meanmax tarina on muotoa

  -# "Keskimääräinen ylin lämpötila N astetta."

Ruotsiksi

  -# "Den högsta temperaturen i medeltal N grader."

Englanniksi

  -# "Mean maximum temperature N degrees."

Käytetyt fraasit ovat

  - "keskimääräinen ylin lämpötila"
  - "astetta"

\subsection sec_story_temperature_meanmin "temperature_meanmin"

\c temperature_meanmin tarina on muotoa

  -# "Keskimääräinen alin lämpötila N astetta."

Ruotsiksi

  -# "Den lägsta temperaturen i medeltal N grader."

Englanniksi

  -# "Mean minimum temperature N degrees."

Käytetyt fraasit ovat

  - "keskimääräinen alin lämpötila"
  - "astetta"

\section sec_precipitationstory PrecipitationStory luokka

TextGen::PrecipitationStory luokka hallitsee sateeseen liittyvät tarinat.

Yksi keskeinen ongelma on se, miten sadesumma määritellään. Esimerkiksi
kun puhutaan alueen keskimääräisestä sadesummasta, pitäisikö laskuihin ottaa
vain ne pisteet joissa oikeasti sataa edes jonkin verran, vai kaikki pisteet?

\subsection sec_story_precipitation_total "precipitation_total"

\c precipitation_total tarina on muotoa

  -# "Sadesumma N millimetriä."

Ruotsiksi

  -# "Nederbördsumman N millimeter."

Englanniksi

  -# "Total precipitation N millimeters."

Käytetyt fraasit ovat

  - "sadesumma"
  - "millimetriä"

\subsection sec_story_precipitation_range "precipitation_range"

\c precipitation_range tarina on muotoa

  -# "Sadesumma yli N millimetriä."
  -# "Sadesumma N millimetriä."
  -# "Sadesumma N...M millimetriä."

Ruotsiksi

  -# "Nederbördsumman över N millimeter."
  -# "Nederbördsumman N millimeter."
  -# "Nederbördsumman N...M millimeter."

Englanniksi

  -# "Total precipitation over N millimeters."
  -# "Total precipitation N millimeters."
  -# "Total precipitation N...M millimeters."

Päättelyssä käytetään muuttujina alueen minimi- ja maksimisadesummaa,
sekä optionaalista muuttujaa
\code
textgen::[kappale]::story::precipitation_range::maxrain
\endcode

Jos muuttujan arvo on asetettu lukemaksi X ja minimisadesumma on
vähintään X, palautetaan tarina 1. Jos minimi ja maksimi ovat samoja,
palautetaan tarina 2. Muuten palautetaan tarina 3.

Käytetyt fraasit ovat

  - "sadesumma"
  - "yli"
  - "millimetriä"

\subsection sec_story_precipitation_classification "precipitation_classification"

\c precipitation_classification tarina on muotoa

  -# "Sadesumma yli N millimetriä."
  -# "Sadesumma monin paikoin yli N millimetriä."
  -# "Sadesumma paikoin yli N millimetriä."
  -# "Sadesumma 0 millimetriä."
  -# "Sadesumma N...M millimetriä."
  -# "Sadesumma N...M millimetriä, paikoin enemmän."
  -# "Sadesumma N...M millimetriä, monin paikoin enemmän."

Ruotsiksi

  -# "Nederbördsumman över N millimeter."
  -# "Nederbördsumman på många håll över N millimeter."
  -# "Nederbördsumman lokat över N millimeter."
  -# "Nederbördsumman 0 millimeter."
  -# "Nederbördsumman N...M millimeter."
  -# "Nederbördsumman N...M millimeter, lokalt mera."
  -# "Nederbördsumman N...M millimeter, mera på många håll."

Englanniksi

  -# "Total precipitation over N millimeters."
  -# "Total precipitation in many places over N millimeters."
  -# "Total precipitation in some places over N millimeters."
  -# "Total precipitation 0 millimeters."
  -# "Total precipitation N...M millimeters."
  -# "Total precipitation N...M millimeters, more in some places."
  -# "Total precipitation N...M millimeters, more in many places."

Päättelyssä käytetään muuttujina alueen minimi- ja maksimisadesummaa,
sekä optionaalisia muuttujia
\code
textgen::[kappale]::story::precipitation_classification::maxlimit1 = [0-100]
textgen::[kappale]::story::precipitation_classification::maxlimit2 = [0-100]
textgen::[kappale]::story::precipitation_classification::limit1 = [0-100]
textgen::[kappale]::story::precipitation_classification::limit2 = [0-100]
textgen::[kappale]::story::precipitation_classification::classlimits = [range1,range2,...]
\endcode
Teksti valitaan seuraavalla logiikalla

  -# Kaikista luokista haetaan maksimi sademäärä X
  -# Jos sadesumman maksimi on yli X
     -# Jos sadesumman minimi on yli X palautetaan fraasi 1
     -# Jos sadesumma ylittää asetetun raja-arvon \c maxlimit2 riittävän
        monessa pisteessä, palautetaan fraasi 2.
     -# Jos sadesumma ylittää asetetun raja-arvon \c maxlimit1 riittävän
        monessa pisteessä, palautetaan fraasi 3.
     -# Palautetaan fraasi 1.
  -# Jos sadesumman maksimi on 0, palautetaan fraasi 4.
  -# Lasketaan sadesumman keskiarvo ja maksimi.
  -# Muodostetaan sadeluokka keskiarvon perusteella. Jos useampi luokka
     on mahdollinen, valitaan se niistä ensimmäinen.
  -# Jos maksimi kuuluu samaan luokkaa, palautetaan fraasi 5.
  -# Jos alueellinen ylitysprosentti ylittää rajan \c limit2, palautetaan
     fraasi 6. Jos rajaa ei ole asetettu, ei fraasia 6 koskaan palauteta.
  -# Jos alueellinen ylitysprosentti ylittää rajan \c limit1, palautetaan
     fraasi 7. Jos rajaa ei ole asetettu, ei fraasia 7 koskaan palauteta.
  -# Palautetaan fraasi 5.

Käytetyt fraasit ovat

  - "sadesumma"
  - "paikoin"
  - "monin paikoin"
  - "yli"
  - "millimetriä"
  - "paikoin enemmän"
  - "monin paikoin enemmän"

PS. Tarinan nimi ei ole \c precipitation_class, koska
koodauskonventioiden mukaan PrecipitationStory luokkaan tulisi metodi
nimeltä class, joka ei ole sallittua.

*/
